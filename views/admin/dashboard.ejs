<div class="d-flex align-items-center justify-content-between mb-4">
  <h2 class="fw-semibold">Admin Dashboard</h2>
  <div class="d-flex gap-2">
    <a href="/admin/cache" class="btn btn-sm btn-outline-primary">
      <i class="bi bi-database"></i> Redis Cache
    </a>
    <div class="text-muted">Read-only overview</div>
  </div>
</div>

<div class="row g-3 mb-4">
  <div class="col-md-4">
    <div class="stat-tile d-flex justify-content-between align-items-center">
      <div>
        <div class="small text-uppercase text-muted fw-medium">Users</div>
        <h3 class="mt-1"><%= users.length %></h3>
      </div>
      <i class="bi bi-people fs-1 text-primary"></i>
    </div>
  </div>
  <div class="col-md-4">
    <div class="stat-tile d-flex justify-content-between align-items-center">
      <div>
        <div class="small text-uppercase text-muted fw-medium">Requests</div>
        <h3 class="mt-1"><%= requests.length %></h3>
      </div>
      <i class="bi bi-journal-text fs-1 text-info"></i>
    </div>
  </div>
  <div class="col-md-4">
    <div class="stat-tile d-flex justify-content-between align-items-center">
      <div>
        <div class="small text-uppercase text-muted fw-medium">Donations</div>
        <h3 class="mt-1"><%= donations.length %></h3>
      </div>
      <i class="bi bi-currency-rupee fs-1 text-success"></i>
    </div>
  </div>
</div>

<div class="row g-3">
  <div class="col-lg-4">
    <div class="card">
      <div class="card-header">Recent Users</div>
      <div class="card-body">
        <table class="data-table">
          <thead><tr><th>Name</th><th>Role</th></tr></thead>
          <tbody>
          <% users.slice(0,8).forEach(u => { %>
            <tr>
              <td><%= u.name %></td>
              <td><span class="badge-soft"><%= u.role %></span></td>
            </tr>
          <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="col-lg-4">
    <div class="card">
      <div class="card-header">Recent Requests</div>
      <div class="card-body">
        <table class="data-table">
          <thead><tr><th>Title</th><th>Status</th></tr></thead>
          <tbody>
          <% requests.slice(0,8).forEach(r => { %>
            <tr>
              <td><%= r.title %></td>
              <td>
                <% if (r.status === 'funded') { %>
                  <span class="badge-soft success">funded</span>
                <% } else if (r.status === 'open') { %>
                  <span class="badge-soft">open</span>
                <% } else { %>
                  <span class="badge-soft danger">closed</span>
                <% } %>
              </td>
            </tr>
          <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="col-lg-4">
    <div class="card">
      <div class="card-header">Recent Donations</div>
      <div class="card-body">
        <table class="data-table">
          <thead><tr><th>Amount</th><th>To</th></tr></thead>
          <tbody>
          <% donations.slice(0,8).forEach(d => { %>
            <tr>
              <td>â‚¹ <%= d.amount %></td>
              <td><%= d.request.title %></td>
            </tr>
          <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
